{"version":3,"file":"index.js","sources":["../src/consts.js","../src/utils.js","../src/dom_syms.js","../src/core.js","../src/state.js","../src/index.js"],"sourcesContent":["'use strict'\n\nexport const undef = undefined\n\nexport default {\n  undef\n}\n","'use strict'\n\nimport { undef } from './consts'\n\nconst noop = () => undef\nconst pass = _ => _\n\nexport const is_null = subj => subj === null\n\nexport const is_def = subj => subj !== undef\n\nexport const is_str = subj => typeof subj == 'string'\n\nexport const is_fn = subj => typeof subj == 'function'\n\nexport const is_arr = subj => subj instanceof Array\n\nexport const is_obj = subj =>\n  !is_str(subj) && !is_arr(subj) && !is_fn(subj) && subj instanceof Object\n\nexport const is_sym = subj => typeof subj == 'symbol'\n\nexport const iff = (cond, then = noop, other = noop) =>\n  cond ? then() : other()\n\nexport const trim = (subj = '') => subj.trim && subj.trim()\n\nexport const add = (a, b) => a + b\n\nexport const str = subj =>\n  ((is_str(subj) || !is_def(subj)) && add(subj, '')) || JSON.stringify(subj)\n\nexport const repl = (subj, char, with_char = '') =>\n  subj.replace(char, with_char)\n\nexport const sym = subj =>\n  iff(is_fn(subj), () => sym(subj.name), () => Symbol.for(subj))\n\nexport const sym_to_str = sym => Symbol.keyFor(sym)\n\nexport const has_len = arr => !!arr.length\n\nexport const is_in = (subj, arr = []) =>\n  reduc(arr, false, (acc, item) => acc || item == subj)\n\nexport const join = (subj = [], joiner = '') =>\n  is_fn(subj.join) && subj.join(joiner)\n\nexport const uniq = subj =>\n  reduc(subj, [], (acc, item) =>\n    iff(is_in(item, acc), () => acc, () => [...acc, item])\n  )\n\nexport const split = (subj = {}, by = '') =>\n  iff(is_def(by) && is_fn(subj.split), () => subj.split(by))\n\nexport const reduc = (\n  [first, ...rest] = [],\n  acc = undef,\n  fn = noop,\n  index_ = 0\n) =>\n  iff(\n    is_def(first) || has_len(rest),\n    () => reduc(rest, fn(acc, first, index_), fn),\n    () => acc\n  )\n\nexport const flow = (...fns) => subj => reduc(fns, subj, (acc, fn) => fn(acc))\n\nexport const to_lower = subj => str(subj).toLowerCase()\n\nexport const sanitize = subj =>\n  repl(subj, RegExp(`[${join(uniq(split(repl(subj, /[a-z-]/g, ''))))}]`, 'g'))\n\nexport const to_dashed = subj => repl(subj, '_', '-')\n\nexport const transform_key = subj => flow(to_lower, to_dashed, sanitize)(subj)\n\nexport const add_to = (arr, subj) => [...arr, subj]\n\nexport const keys_of = subj => Object.keys(subj)\n\nexport const syms_of = subj => Object.getOwnPropertySymbols(subj)\n\nexport const get = (subj = {}, key) => subj[key]\n\nexport const is_empty = subj =>\n  is_null(subj) ||\n  !is_def(subj) ||\n  (is_arr(subj) && !has_len(subj)) ||\n  (is_obj(subj) && !has_len(keys_of(subj)))\n\nexport const compress = (subj = []) =>\n  reduc(\n    subj,\n    [],\n    (acc, item) =>\n      (is_def(item) && !is_null(item) && !is_empty(item) && [...acc, item]) ||\n      acc\n  )\n\nexport const rnd_id = seed =>\n  ((new Date().getMilliseconds() + seed) * Math.PI + seed)\n    .toString(16)\n    .replace('.', '')\n\nexport default {\n  noop,\n  add,\n  str,\n  sym,\n  sym_to_str,\n  is_def,\n  is_str,\n  is_fn,\n  is_arr,\n  is_obj,\n  is_sym,\n  is_null,\n  has_len,\n  is_in,\n  iff,\n  join,\n  uniq,\n  flow,\n  to_lower,\n  sanitize,\n  to_dashed,\n  transform_key,\n  add_to,\n  reduc,\n  keys_of,\n  syms_of,\n  get,\n  repl,\n  trim,\n  compress,\n  is_empty,\n  rnd_id,\n  pass\n}\n","import _ from './utils'\n\nconst tags = [\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'applet',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'base',\n  'basefont',\n  'bdi',\n  'bdo',\n  'bgsound',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'command',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'iframe',\n  'image',\n  'img',\n  'input',\n  'ins',\n  'isindex',\n  'kbd',\n  'keygen',\n  'label',\n  'legend',\n  'li',\n  'link',\n  'listing',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meta',\n  'meter',\n  'multicol',\n  'nav',\n  'nextid',\n  'nobr',\n  'noembed',\n  'noframes',\n  'noscript',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'param',\n  'picture',\n  'plaintext',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'rtc',\n  'ruby',\n  's',\n  'samp',\n  'script',\n  'section',\n  'select',\n  'shadow',\n  'slot',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'title',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n  'xmp'\n]\n\nconst syms = _.reduc(tags, {}, (acc, tag) => ({\n  ...acc,\n  [tag]: Symbol.for(tag)\n}))\n\nexport default { ...syms }\n","'use strict'\n\nimport undef from './consts'\nimport _ from './utils'\n\nexport const str_style_attr = val => (!_.is_str(val) && val) || _.str(`${val}`)\n\nexport const str_style = attrs => {\n  if (!_.is_obj(attrs)) return ''\n\n  return _.trim(\n    _.reduc(\n      _.keys_of(attrs),\n      '',\n      (acc, key) =>\n        `${acc} ${_.transform_key(_.str(key))}: ${str_style_attr(\n          _.get(attrs, key)\n        )};`\n    )\n  )\n}\n\nexport const str_attrs = attrs => {\n  if (!_.is_obj(attrs)) return ''\n\n  return _.reduc(\n    _.keys_of(attrs),\n    '',\n    (acc, key) =>\n      (key == 'style' &&\n        `${acc} ${_.transform_key(_.str(key))}=\"${str_style(\n          _.get(attrs, key)\n        )}\"`) ||\n      `${acc} ${_.transform_key(_.str(key))}=\"${_.str(_.get(attrs, key))}\"`\n  )\n}\n\nexport const str_inner = (jsonml, html_arr = []) =>\n  _.reduc(jsonml, html_arr, (acc, inner) => {\n    if (_.is_str(inner)) return [...acc, inner]\n    if (_.is_arr(inner)) return build_html(inner, acc)\n    return acc\n  })\n\nexport const open_tag = (type, attrs) =>\n  `<${_.transform_key(type)}${str_attrs(attrs)}>`\n\nexport const close_tag = type => `</${_.transform_key(type)}>`\n\nexport const wrap_tag = (first, second, ...rest) => {\n  const inner = (!_.is_obj(second) && [second]) || []\n\n  return [\n    open_tag(first, _.is_obj(second) && second),\n    ...str_inner([...inner, ...rest]),\n    close_tag(first)\n  ]\n}\n\nexport const build_html = ([first, second, ...rest] = [], html = []) => {\n  if (_.is_arr(first)) return [...html, ...str_inner([first, second, ...rest])]\n\n  if (_.is_str(first)) return [...html, ...wrap_tag(first, second, ...rest)]\n\n  if (_.is_sym(first))\n    return [...html, ...wrap_tag(_.sym_to_str(first), second, ...rest)]\n\n  return html\n}\n\nexport const to_html = jsonml => _.join(build_html(jsonml))\n\nexport const to_jsonml = ([first, ...rest] = []) => {\n  if (_.is_str(first) || _.is_sym(first) || _.is_obj(first))\n    return _.compress([first, ...to_jsonml(rest)])\n\n  if (_.is_arr(first)) return _.compress([to_jsonml(first), ...to_jsonml(rest)])\n\n  if (_.is_fn(first)) return _.compress(to_jsonml(elem(first)(...rest)))\n\n  return []\n}\n\nexport const elem = fn => (attrs, ...cont) => {\n  if (_.is_obj(attrs)) return fn(attrs, ...cont)\n\n  return fn({}, attrs, ...cont)\n}\n\nexport default (node, app) => {\n  const render = () => (node.innerHTML = to_html(to_jsonml(app)))\n\n  render()\n\n  return render\n}\n","'use strict'\n\nimport undef from './consts'\nimport _ from './utils'\n\nexport const reducs_sym = _.sym(':reducs')\nexport const on_change_sym = _.sym(':on_change')\nconst _init_state = { [reducs_sym]: {}, [on_change_sym]: [] }\n\nexport const frag = (init_state, ...reducs) => {\n  const reducr_map = _.reduc(reducs, {}, (acc, reducr) => ({\n    ...acc,\n    [_.sym(reducr)]: reducr\n  }))\n\n  return (state = init_state, reducr, ...args) =>\n    (!_.is_fn(reducr) && state) || reducr_map[_.sym(reducr)](state, ...args)\n}\n\nconst add = (state = _init_state, init_frag, ...reducers) => {\n  const sym = _.sym(init_frag)\n  const reducr = frag(init_frag(), ...reducers)\n\n  return {\n    ...state,\n    [sym]: reducr(),\n    [reducs_sym]: { ...state[reducs_sym], [sym]: reducr }\n  }\n}\n\nconst conn = (state, elem = _.noop, ...frags) => (...args) =>\n  elem.apply(null, [\n    _.reduc(frags, {}, (frag_state, { name }) => ({\n      ...frag_state,\n      [name]: state()[_.sym(name)]\n    })),\n    args\n  ])\n\nconst disp = (state, reducr, ...args) => {\n  const reducs = state[reducs_sym]\n\n  return _.reduc(_.syms_of(reducs), state, (acc, frag_name) => ({\n    ...acc,\n    [frag_name]: reducs[frag_name](state[frag_name], reducr, ...args)\n  }))\n}\n\nconst call_on_change = cbs => _.reduc(cbs, null, (_, cb) => cb())\n\nconst get_state = state =>\n  _.reduc(_.syms_of(state), {}, (acc, key) => {\n    if (key == reducs_sym || key == on_change_sym) return acc\n\n    return {\n      ...acc,\n      [_.sym_to_str(key)]: state[key]\n    }\n  })\n\nconst state = state_ => {\n  state_ = { ...state_, ..._init_state }\n\n  const get = () => ({ ...state_ })\n  const set = new_state => ((state_ = new_state), undef)\n\n  return {\n    add: (init_frag, ...reducers) => set(add(get(), init_frag, ...reducers)),\n    conn: (elem, ...frags) => conn(get, elem, ...frags),\n    disp: (reducr, ...args) => (\n      set(disp(get(), reducr, ...args)), call_on_change(get()[on_change_sym])\n    ),\n    on_change: fn =>\n      set({ ...get(), [on_change_sym]: [...get()[on_change_sym], fn] }),\n\n    get: () => get_state(get())\n  }\n}\n\nexport default state\n","'use strict'\n\nimport consts from './consts'\nimport dom from './dom_syms'\nimport render from './core'\nimport utils from './utils'\nimport state from './state'\n\nexport default {\n  consts,\n  dom,\n  render,\n  utils,\n  state\n}\n"],"names":["undef","undefined","noop","pass","_","is_null","subj","is_def","is_str","is_fn","is_arr","Array","is_obj","Object","is_sym","iff","cond","then","other","trim","add","a","b","str","JSON","stringify","repl","char","with_char","replace","sym","name","Symbol","for","sym_to_str","keyFor","has_len","arr","length","is_in","reduc","acc","item","join","joiner","uniq","split","by","first","rest","fn","index_","flow","fns","to_lower","toLowerCase","sanitize","RegExp","to_dashed","transform_key","add_to","keys_of","keys","syms_of","getOwnPropertySymbols","get","key","is_empty","compress","rnd_id","seed","Date","getMilliseconds","Math","PI","toString","tags","syms","tag","str_style_attr","val","str_style","attrs","str_attrs","str_inner","jsonml","html_arr","inner","build_html","open_tag","type","close_tag","wrap_tag","second","html","to_html","to_jsonml","elem","cont","node","app","render","innerHTML","reducs_sym","on_change_sym","_init_state","frag","init_state","reducs","reducr_map","reducr","state","args","init_frag","reducers","conn","frags","apply","frag_state","disp","frag_name","call_on_change","cbs","cb","get_state","state_","set","new_state","on_change","consts","dom","utils"],"mappings":"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"}